<div id="sect_title_img_4_4"></div>

<div id="sect_title_text"></div>

# アドオンのライセンスを決める

<div id="preface"></div>

###### [4-3節](03_Publish_your_Add-on.md) では、アドオンを公開する方法について説明しました。しかし、ただ単にアドオンのソースコードを公開するだけでは後々トラブルになることがあります。本節で説明するライセンスはトラブルになりやすい原因の1つです。オープンソースソフトウェアについてある程度知識のある方ならライセンスのことは今さら言うまでもないことであると思いますが、本書を読んでいる方の大半は知らない方が多いと考えられるので、ここでライセンスについて説明することにします。ライセンスについてあまり理解していない、かつこれからアドオンを公開しようと考えている方は必ず読んでください。


## ライセンスとは

ところでライセンスとは何でしょうか？

ライセンスは英語にすると license ですが、license の日本語訳は「免許」や「認可」となります。コンピュータ関連でライセンスと聞くと、WindowsやPhotoshopなどの有料ソフトウェアを利用しサポートを受けるために必要となる認証のことを思い浮かべる方が多いのではないでしょうか？しかし本節で説明するライセンスとは、**ソースコードの利用に関するライセンス** であることに注意してください。

ライセンスに関する話の前にソースコードの著作権について説明します。本や音楽などと同様、ソースコードにも著作権が存在します。このため、たとえ作成者本人が著作権を放棄していたとしてもそれが明示されていなければ、ソースコードの中身を複製することは著作権を侵害することになります。もし仮に他人が作成したソースコードを見て処理を流用しようと考えた時、ソースコードの利用に関する規約が書かれていない場合は作成者本人に確認を取らなければなりません。一方、著作権を放棄してソースコードを自由に使ってもらおうと考えている作成者もソースコードを書く度に利用規約を作っていたのでは手間がかかり大変です。また著作権に詳しい人でなければ、せっかく利用規約を作ったにもかかわらずに意味のないものとなってしまいます。

ソースコードに関わらずライセンス絡みの話は非常に面倒で、この面倒なライセンスの問題を解決してくれるのが、ソースコードの利用に関するライセンスです。既に多くの代表的なソースコードの利用に関するライセンスが世の中には存在し、ソースコード作成者はその中から自分に合ったライセンスを選択することになります。代表的なライセンスを調べて内容を理解するのは面倒で利用規約を作った方が早いのではないかと思う方もいるかと思いますが、一度理解してしまえば利用規約を作ることなく、本ソースコードには○○なライセンスが適用されているなどと一文を書くだけで済むため結果として時間の節約になります（ライセンスを適用するために他にも行うことがありますが基本的にそこまで大変な作業ではありません）。また、ライセンスが有名なものであればソースコードを利用する方も毎回利用規約を読む必要もなくなりますし、作者が書いた曖昧な利用規約によって生じる誤解もなくなります。


## ライセンスの種類

ソースコードの利用に関するライセンスの代表的なものとしては、例えば以下のようなものがあります。それぞれのライセンスについて概要をまとめていますが、あくまで概要であるため実際にライセンスを適用する場合は各自できちんと調べてください。

|ライセンス|公開元|概要|
|---|---|---|
|GNU General Public License（GPL）|Free Software Foundation|本ライセンスが適用されているプログラムはソースコードを公開しなければなりません。<br>本ライセンスが適用されたソースコードは誰でも入手することが可能で、改変や再配布も自由です。<br>一方、GPLが適用されたプログラムやソースコードを利用した派生物は、たとえそれが一部分であってもGPLを適用する必要があることに注意が必要です。このように強い感染力を持つことから、GPL汚染と呼ばれることがあります。<br>GPLにはバージョンが3つあり、バージョンごとに制約が異なっている（特に特許関係）ため、GPL適用時にはバージョンも確認する必要があります。|
|MIT License|マサチューセッツ工科大学|GPLと比べて制約が緩いライセンスです。X11 Licenseなどと呼ばれることもあります。<br>MIT Licenseが適用されたソースコードは、改変・再配布などを行う際に著作権の表示とMIT License本文の記載、および無保証であることの記載という条件のみを要求します。ソースコードを非公開にしても良いですし、適用するライセンスを変えて再配布することもできます。|
|クリエイティブ・コモンズ・ライセンス（CC）|クリエイティブ・コモンズ|ここで紹介しているソースコードのライセンスとは異なり、全ての著作物に対して適用可能なライセンスです。Blenderを使っている方ではこちらの方が馴染みがあるかもしれません。著作物の複製・頒布などを行うする際に、「著作者の表示」「非営利目的での利用に限定」「改変禁止」「ライセンスの継承」の4つの制約の中から選択してライセンスを適用することができます。<br><br>著作権を完全に放棄して（パブリックドメインとして）公開する場合は、CC0を適用することになります。|
|Apache License|Apache Soft Foundation|MIT Licenseよりもさらに緩いライセンスで、こちらはライセンスの本文すら記載が不要となっています。本ライセンスが適用されたソースコードを改変・再配布する場合は、ソースコードの著作権の表示とApache Licenseが適用されている文言を入れるだけでよいです。もちろん、再配布の際は適用するライセンスを変えることが可能で、ソースコードを非公開にすることもできます。|
|Berkeley Software Distribution License|カルフォルニア大学|MIT Licenseとほぼ同様制約を持つライセンスで、BSDライセンスと略して呼ばれます。<br>BSDライセンスには、いくつかライセンスの種類がありますがここでは、修正BSDライセンスのことを指します。修正BSDライセンスが適用されたソースコードは、改変・再配布などを行う際に著作権の表示と無保証であることの記載という条件のみを要求します。<br>オリジナルのBSDライセンスは、派生物に初期開発者を表示するという制約が加わり、GPLと両立できません。|



## Blenderのライセンス

Blenderはオープンソースソフトウェアでソースコードが公開されていますが、ソースコードには基本的に **GPLv2** が適用されています。その他にもCyclesは **Apache 2.0** ライセンスとして利用できたり、Blenderのビルドに必要なライブラリには **MIT** ライセンスや **BSD** ライセンスなどが適用されていますが、ここでは、BlenderはGPLv2のライセンスが適用されていると覚えておけば問題ありません。ライセンスの詳細については、Blenderのホームページで確認することができます。

<div id="webpage"></div>

|blender.org (License)|
|---|
|https://www.blender.org/about/license/|
|![blender.org (License)]( "blender.org (License)")|


### アドオンのライセンス

BlenderのライセンスにはGPLv2が適用されていることが分かりましたが、Blender上で動作するアドオンのソースコードのライセンスには何を適用すればよいのでしょうか？その答えは、先ほど紹介したBlenderのホームページから確認することができ、Blenderを構成するすべてのコンポーネントは **GPLv3互換** でなければならないと書いています。アドオンのライセンスをGPLv3にする必要は必ずしもなく、GPLv3 **互換** とする必要があるということに注意してください。Blenderのアドオンを利用している間は、Blender上で動作することになるため自動的にGPLが適用されるため、GPLv3互換ではないライセンスが設定されているアドオンはライセンス違反となり使用できないことになります。例えば、ライセンスが明記されていないアドオンはGPLv3互換とはならないため、ライセンス違反とならないためにも使用を控えるべきです。GPLと互換である（両立する）ライセンスは次のホームページから確認することができますので、アドオンに設定しようと考えているライセンスがGPL互換か否かを必ずチェックするようにしましょう。

<div id="webpage"></div>

|GNUオペレーティング・システム|
|---|
|http://www.gnu.org/licenses/license-list.html|
|![GNUオペレーティング・システム]( "GNUオペレーティング・システム")|


色々書きましたが、ライセンスについてここで初めて知ったという方はどのライセンスを選んだらよいか迷っていると思います。基本的にGPLv3互換であれば何でもよいのですが、アドオンを公開されている方のライセンスを見ると **GPLやMITライセンスを適用している方が多い** ように見えます。Blender公式のリポジトリに登録されたアドオン（サポートレベルがOfficialまたはContribのアドオン）は、Blenderと一緒にオープンソースとして提供されることからGPLが適用されています。一方、公式のリポジトリに登録されていない個人で開発されたアドオン（サポートレベルがExternalのアドオン）は、GPLv3互換であるMITライセンスを適用している方が多いようです。

MITライセンスを適用している方が多いのは、GPLの特徴の1つである **GPLライセンスが適用されている制作物の一部でも利用して制作したものはGPLライセンスで配布しなければならない（コピーレフト）** という制約があるためです。これはGPLのソースコードの一部を流用した場合、GPLライセンスで配布する必要があるという非常に強力な制約です。一方でMITライセンスは、ライセンスで示された条件さえ守っていれば **再配布物のライセンスを変えても良いし、ソースコードを非公開にしても良い** など非常に緩いライセンスです。

特別にこれというライセンスが決まっていなかったり、ライセンスを後から変えることを検討しているのであれば、とりあえずMITライセンスを選んでおけばよいと思います。少なくとも、**ライセンスを設定しないことだけは絶対に避けてください。**


## ライセンスを明示する方法

ソースコードに適用しているライセンスを明示する方法はいろいろありますが、ここではよく見かけるライセンスの明示方法について紹介します。

### ソースコードにライセンス本文を記載する

ライセンスを適用したいソースコードの先頭などの目立つ場所に、適用するライセンスの本文を記載する方法です。例えば以下のような感じでソースコードの先頭にコメントとしてライセンス本文を記載します。

```python
#
# 本ソースコードは○○のライセンスが適用されています
# 著作者：ぬっち
#

import bpy
...
```

上記の例はあくまで疑似コードですので、ライセンス毎に記載すべき文章が異なります。ライセンスが決まって実際に自分のソースコードにライセンス本文を書く場合は、各自で調べて記載するようにしてください。


### LICENSEファイルにライセンス本文を記載する

ソースコード全てにライセンス本文が記載されているのが最善ではありますが、ソースコードの数が多くなってくるとライセンスを記載することが面倒になってくると思います。そして、故意ではなくてもライセンスを記載し忘れてしまう可能性もあります。このような場合には、ソースコードが置かれたトップディレクトリに ```LICENSE``` ファイルを作成し、ライセンスの本文を ```LICENSE``` ファイルに記載することでも、適用するライセンスを宣言することができます。複数のライセンス（マルチライセンス）を適用する場合は、適用するライセンス全てについて ```LICENSE``` ファイルに記載します。

### READMEファイルにライセンス本文を記載する

上記2つの例と比較してあまりお勧めできない例ですが、README系の利用規約やソースコードの概要などが書かれたファイルにライセンスを記載することもできます。フリーソフトなどでよく見かける形式ですが、ソースコードの場合はあまり主流ではないため、```README``` ファイルにはあくまでソースコードの概要の説明に留め、ライセンスは ```LICENSE``` ファイルに記載した方が良いと思います。

## 本書のライセンス

[はじめに](../../README.md) を読んでもらえばわかる通り、本書のライセンスはマルチライセンスを採用しています。

本書で紹介しているサンプルのソースコードには **CC0** が適用されています。CC0はいわゆるパブリックドメインと呼ばれるもので、本書で紹介しているサンプルのソースコードに関しては著作権を放棄しているということを示しています。CC0が適用されていることによって、著作者を明示することなく本書のサンプルを改変・流用したり、他のライセンスをつけて再利用することもできます。またCC0はGPLv3互換であるため、Blenderのライセンスにも違反していません。なぜCC0なのかという質問をもらうこともありますが、本書で紹介するアドオンのソースコードを積極的に他の人に使ってもらいたいという意図があり、CC0を適用しています。

一方、本書の本文については **CC BY** が適用されています。CC BYは著作権を明示する必要がありますが、複製や頒布などを自由に行うことができます。色々な方に本書に書かれた情報を知ってもらいたいという意味で複製や再頒布は自由にしましたが、情報提供者は明示してほしいという思いを込めてCC BYを適用しました。


## まとめ

本節では、ソースコード利用に関するライセンスについて説明しました。その上で、Blenderのアドオンを公開する際にソースコードにライセンスを適用する必要がある理由と、適用の仕方を説明しました。アドオンの開発とは少し離れた話題ではありますが、Blenderのアドオンの配布方式がソースコードを直接配布するものである以上、アドオン開発者はライセンスについて知っておく必要があります。

Web上に公開されているアドオンのソースコードを見ていると、いずれのライセンスにも適用されていないものが数多くあります。実際に筆者自身もライセンスが適用されていないアドオンへの対応で困ったことがあります。ライセンスが適用されていないアドオンのバグを修正してほしいという依頼を受けたのは良いのですが、ソースコードを確認してみると適用しているライセンスが書かれた文章がどこにも見つかりませんでした。ソースコードの作者が外国の方で、英語で聞く必要があることについては対応のしようがあるのでまだ良いのですが、問題はソースコードを作成した日付が5年以上前となっていたので連絡が取れるのかということでした。たまたまこの時は連絡がついたのですが、もし連絡が取れなかったらライセンスがないためアドオンを修正することができないことになります。

このように、アドオンにライセンスが適用されていないと **せっかく素晴らしいアドオンを作成しても、作者以外はアドオンを修正することができなくなってしまいます。** 筆者自身、アドオンを公開する時にライセンスを適用し忘れてしまうことがよくあるのであまり言える立場ではないのですが、公開後の面倒な対応を避けるためにも公開する前にライセンスを適用するようにしましょう。本節では、最低でもこのことだけでも覚えておいてもらえればよいです。


<div id="point"></div>

### ポイント

<div id="point_item"></div>

* 本や音楽と同様、ソースコードにも著作権が存在する
* アドオン公開後に著作権絡みで面倒なトラブルを避けるため、Blenderのアドオンのソースコードにはライセンスを必ず設定しよう
* Blenderのアドオンのソースコードに設定するライセンスは、GPLv3互換のライセンスであれば好きに決めて良いが、誤解を招いたり抜けが必ずある独自ライセンスを設定することは避けよう
* ライセンスを明示する方法はいくつか存在するが、最も確実な方法はソースコードにライセンス本文を記載する方法である
* ライセンスが設定されていないソースコードは、たとえそれがソースコードの一部であっても使用したり改変したりすることはできない
